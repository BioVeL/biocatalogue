<%

# BioCatalogue: app/views/filtering/_filter_option_item.html.erb
#
# Copyright (c) 2009, University of Manchester, The European Bioinformatics 
# Institute (EMBL-EBI) and the University of Southampton.
# See license.txt for details

%>

<% 
	 selected = is_filter_selected(filter_type, filter["name"])
	 url = selected ? generate_exclude_filter_url(filter_type, filter["name"]) : generate_include_filter_url(filter_type, filter["name"]) 
%>

<span class="container">
	<% if filter["name"] == BioCatalogue::Filtering::UNKNOWN_TEXT %>
		<span class="text" title="<%= tooltip_title_attrib(h(filter["name"])) -%>"><%= truncate(h(filter["name"]), :length => 28) -%></span>
			
		<% unless filter['count'].blank? %>
			<span class="faded count">(<%= filter["count"] -%>)</span>
		<% end %>
	<% else %>
		<% link_to(url, :class => (selected ? "selected" : nil), :title => tooltip_title_attrib(h(filter["name"]))) do -%>
			<span class="text"><%= truncate(h(filter["name"]), :length => 28) -%></span>
			
			<% unless filter['count'].blank? %>
				<span class="faded count">(<%= filter["count"] -%>)</span>
			<% end %>
			
			<% if selected %>
				<span class="deselect">&nbsp</span>
			<% end %>
		<% end %>
	<% end %>
	
</span>
