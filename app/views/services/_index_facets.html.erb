<%

# BioCatalogue: app/views/services/_index_facets.html.erb
#
# Copyright (c) 2009, University of Manchester, The European Bioinformatics 
# Institute (EMBL-EBI) and the University of Southampton.
# See license.txt for details

%>

<% unless @filter_message.blank? %>
	<p class="box_info_standout" style="font-weight: bold; text-align: center; padding: 0.3em 0.5em;">
		<%= @filter_message -%>
	</p>
<% end %>

<div>
	<%= link_to("Show all services", "#{services_url}#browse", :class => "standout_link", :style => "float:right; font-size: 90%; margin: 1px;") -%>	
	<div id="facets_header">
		<span class="text">Filtering</span>
		<span style="vertical-align:middle; margin-left:0.5em;">
			<%= help_icon_with_tooltip(help_text_for_filtering) -%>
		</span>
	</div>
</div>

<div class="facets">
	<% service_type_facets = get_facets_for_service_types %>
	<%= render :partial => "faceting/facet_options", 
						 :locals => { :facets => service_type_facets,
													:facet_type_display_name => "Service Types",
													:facet_type_query_key => :t } -%>
	
	<hr/>
	
	<% service_provider_facets = get_facets_for_service_providers %>
	<%= render :partial => "faceting/facet_options", 
						 :locals => { :facets => service_provider_facets,
													:facet_type_display_name => "Service Providers",
													:facet_type_query_key => :p } -%>
</div>