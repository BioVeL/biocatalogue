<%

# BioCatalogue: app/views/stats/_metadata_stats_for_type.html.erb
#
# Copyright (c) 2009, University of Manchester, The European Bioinformatics 
# Institute (EMBL-EBI) and the University of Southampton.
# See license.txt for details

%>

<p>
	<b>Total on services:</b>
	<%= @stats.total_metadata_on_services(type) -%>
</p>

<p>
	<b>Average no. per service:</b>
	<%= @stats.avg_metadata_per_service(type) -%>
</p>

<% max_met = @stats.max_metadata_on_services(type) -%>
<p>
	<b>Max no. on services:</b>
	<%= max_met[:count] -%>
	<span style="margin-left: 2em;">
		(<%= link_to_function("services" + expand_image, visual_effect(:toggle_blind, "metadata_#{type}_max_services", :duration => 0.3)) %>)
	</span>
	<br/>
</p>
<ul id='<%= "metadata_#{type}_max_services" -%>' class="services" style="display: none;">
	<% max_met[:services].each do |s| %>
		<li><%= link_to(h(s.name), s) -%></li>
	<% end %>
</ul>

<% min_met = @stats.min_metadata_on_services(type) -%>
<p>
	<b>Min no. on services:</b>
	<%= min_met[:count] -%>
	<span style="margin-left: 2em;">
		(<%= link_to_function("services" + expand_image, visual_effect(:toggle_blind, "metadata_#{type}_min_services", :duration => 0.3)) %>)
	</span>
	<br/>
</p>
<ul id='<%= "metadata_#{type}_min_services" -%>' class="services" style="display: none;">
	<% min_met[:services].each do |s| %>
		<li><%= link_to(h(s.name), s) -%></li>
	<% end %>
</ul>