<%

# BioCatalogue: app/views/annotations/_tags_flat.html.erb
#
# Copyright (c) 2008, University of Manchester, The European Bioinformatics 
# Institute (EMBL-EBI) and the University of Southampton.
# See license.txt for details

%>

<%# Set defaults for optional parameters to this partial... %>
<% show_add_option = true unless local_assigns.has_key?(:show_add_option) %>

<% unless annotatable.nil? %>
	<% if show_add_option %>
		<% if logged_in? %>
			<%= annotation_add_by_popup_link annotatable,
																		 	 :attribute_name => "Tag",
				                             	 :tooltip_text => '',
				                             	 :link_text => 'Add tags',
				                             	 :show_icon => false, 
				                             	 :show_not_logged_in_text => false,
																			 :only_show_on_hover => false,
				                             	 :multiple => true,
																			 :style => "float: right; margin-left: 1em;" -%>
		<% else %>
		 	<%= link_to "Log in", login_path -%> to add tags
		<% end %>
	<% end %>
	
	<% tag_annotations = BioCatalogue::Annotations.get_tag_annotations_for_annotatable(annotatable) %>
	<% unless tag_annotations.empty? %>
		<%= generate_tag_cloud_from_annotations(tag_annotations, :flat, :tag_cloud_style => "display: inline; text-align: left; margin: 0 1em;") -%>
	<% else %>
		<div class="none_text" style="margin-top: 2px;">None</div>
	<% end %>
<% end %>