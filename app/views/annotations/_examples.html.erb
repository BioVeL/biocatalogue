<%

# BioCatalogue: app/views/annotations/_examples.html.erb
#
# Copyright (c) 2008, University of Manchester, The European Bioinformatics 
# Institute (EMBL-EBI) and the University of Southampton.
# See license.txt for details

%>

<%# Set defaults for optional parameters to this partial... %>
<% show_header = true unless local_assigns.has_key?(:show_header) %>
<% show_modify_options = true unless local_assigns.has_key?(:show_modify_options) %>
<% show_none_text = true unless local_assigns.has_key?(:show_none_text) %>

<% unless annotatable.nil? %>
	<% if show_header == true %>
		<div style="margin-top: 1em;">
			<%= # annotation_add_by_popup_link annotatable,
			    # :attribute_name => "Example",
			    # :tooltip_text => "Click to provide a new example",
			    # :style => "margin-left:1em; float: right;" 
			-%>

				<b>Example(s):</b>

				<%= annotation_add_by_popup_link annotatable,
				    :attribute_name => "Example",
				    :tooltip_text => "Click to add an example",
				    :icon_filename => "add_annotation.gif",
				    :icon_hover_filename => "/images/add_annotation_hover.gif",
				    :style => "margin-left:0.5em;" -%>

		</div>
	<% end %>
	
	<div class="box_annotations">
		<% examples_annotations = annotatable.annotations_with_attribute("example") %>
		<% unless examples_annotations.empty? %>
			<% examples_annotations.each do |ann| %>
				<div class="example">
					<%= annotation_source_text(ann) -%>
					<div style="font-family: monospace; font-size: 1em;">
						<%= h(ann.value) -%>
					</div>
					<% if mine?(ann) and (show_modify_options == true) %>
						<p class="actions">
							<span><%= annotation_edit_by_popup_link(ann) -%></span>
							<span style="margin-left: 1em;"><%= link_to("delete", annotation_path(ann), :method => :delete, :confirm => "Are you sure you want to delete this example?", :style => 'vertical-align: middle;')-%></span>
						</p>
					<% end %>
				</div>
			<% end %>
		<% else %>
			<% if show_none_text == true %>
				<span class="none_text">none</span>
			<% end %>
		<% end %>
	</div>
<% end %>
