<%

# BioCatalogue: app/views/annotations/_name_aliases.html.erb
#
# Copyright (c) 2009, University of Manchester, The European Bioinformatics 
# Institute (EMBL-EBI) and the University of Southampton.
# See license.txt for details

%>

<%# Set defaults for optional parameters to this partial... %>
<% name_annotations = annotatable.annotations_with_attribute("name") unless local_assigns.has_key?(:name_annotations) %>
<% show_add_option = true unless local_assigns.has_key?(:show_add_option) %>
<% show_modify_options = true unless local_assigns.has_key?(:show_modify_options) %>
<% show_none_text = true unless local_assigns.has_key?(:show_none_text) %>

<div class="aliases annotations_container">
	<% unless name_annotations.empty? %>
		<% name_annotations.each do |al| %>
			<span style="vertical-align: middle;">
				<span class="faded_plus">aka</span>
				<span style="font-weight: bold; margin-right: 1em;">
					<%= h(al.value) -%>
					<% if show_modify_options %>
						<% if mine?(al) %>
							<span style="margin-left: 0.3em;">
								<%= link_to(image_tag(icon_filename_for(:delete_faded_plus), :mouseover => icon_filename_for(:delete), :style => "vertical-align:middle;"), 
														annotation_path(al), 
														:method => :delete, 
														:confirm => "Are you sure you want to delete this alternate name / alias", 
														:style => 'vertical-align: middle;',
														:title => tooltip_title_attrib("Delete this alternate name / alias (you created it)")) -%>
							</span>
						<% end %>
					<% end %>
				</span>
			</span>
		<% end %>
	<% else %>
		<% if show_none_text %>
			<span class="none_text">No name aliases</span>
		<% end %>
	<% end %>
	
	<% if show_add_option %>
		<%= annotation_add_by_popup_link annotatable,
		     :attribute_name => "name",
		     :tooltip_text => "Click to add an alternate name / alias for this service",
				 :link_text => "Add an alternate name for this service" -%>
	<% end %>
</div>
